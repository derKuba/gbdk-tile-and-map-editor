var __spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;for(var n=Array(i),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};System.register(["./p-e45c5c80.system.js","./p-e847e88b.system.js","./p-1a8a24db.system.js"],(function(i){"use strict";var t,e,n,r,o;return{setters:[function(i){t=i.r;e=i.h;n=i.H},function(){},function(i){r=i.P;o=i.T}],execute:function(){var s=[{y:-1,x:0},{y:0,x:-1},{y:0,x:1},{y:1,x:0}];var a=function(i,t,e){var n=[];s.map((function(r){var o=t.y+r.y;var s=t.x+r.x;if(o<0||s<0)return;if(o>=i.length||s>=i[o].length)return;if(i[o][s]===e){n.push({y:o,x:s})}}));return n};var l=function(i,t,e,n){var r=a(i,t,e);if(r.length===0){var o=t.y,s=t.x;i[o][s]=n;return i}r.map((function(t){var r=t.y,o=t.x;i[r][o]=n;i=l(i,t,e,n)}));return i};var c=":host{display:block}.canvas-matrix-field-old{display:grid;grid-template-columns:repeat(8, 62px);grid-gap:0px;border:1px solid black;border-bottom:0;width:495px}.canvas-matrix-field{display:-ms-flexbox;display:flex;border:1px solid black;-ms-flex-direction:column;flex-direction:column}.matrixRow{display:-ms-inline-flexbox;display:inline-flex}.matrixRow span{font-size:12px;margin-left:3px}";var p=i("mvjp_canvas_matrix",function(){function i(i){var e=this;t(this,i);this.isMoving=false;this.clickMatrixTile=function(i){if(e.paintModus===r.BRUSH){e.matrix[e.indexTileMatrix][i.y][i.x]=e.choosenColour}else if(e.paintModus===r.BUCKET){if(e.matrix[e.indexTileMatrix][i.y][i.x]===e.choosenColour)return;e.matrix[e.indexTileMatrix]=l(e.matrix[e.indexTileMatrix],i,e.matrix[e.indexTileMatrix][i.y][i.x],e.choosenColour)}e.matrix=__spreadArrays(e.matrix);e.setMatrix(e.matrix)};this.mouseUp=function(){e.isMoving=false};this.mouseDown=function(){e.isMoving=true};this.mouseMove=function(i){if(e.isMoving&&e.paintModus===r.BRUSH){try{var t=JSON.parse(i.target.dataset.pos);e.clickMatrixTile(t)}catch(n){console.log(n)}}}}i.prototype.render=function(){var i=this;var t=this.matrix[this.indexTileMatrix];var r=t.map((function(t,n){return e("div",{class:"matrixRow",key:"tile_at_"+n},t.map((function(t,r){return e("mvjp-canvas-matrix-tile",{key:"tile_at_"+n+"_"+r,position:{y:n,x:r},handleClick:i.clickMatrixTile,colour:t,showGrid:i.settings.isGridVisible},i.settings.isFieldNumberVisible?e("span",null,n+"_"+r):null)})))}));return e(n,null,e("div",{class:"canvas-matrix-field",onMouseMove:this.mouseMove,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp},r))};return i}());o.injectProps(p,["choosenColour","matrix","setMatrix","indexTileMatrix","paintModus","settings"]);p.style=c;var u;(function(i){i["WHITE"]="white";i["GREY"]="grey";i["GREY_DARK"]="grey-dark";i["BLACK"]="black"})(u||(u={}));var d=".color-chooser{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;margin-bottom:15px}";var x=i("mvjp_color_chooser",function(){function i(i){var e=this;t(this,i);this.colors=["white","grey","grey-dark","black"];this.clickTile=function(i){e.choosenColour=e.colors.indexOf(i);e.updateColor(e.choosenColour)}}i.prototype.render=function(){return e(n,null,e("div",{class:"color-chooser"},e("mvjp-color-chooser-field",{color:u.WHITE,isActive:this.colors[this.choosenColour]===u.WHITE,clickTile:this.clickTile}),e("mvjp-color-chooser-field",{color:u.GREY,isActive:this.colors[this.choosenColour]===u.GREY,clickTile:this.clickTile}),e("mvjp-color-chooser-field",{color:u.GREY_DARK,isActive:this.colors[this.choosenColour]===u.GREY_DARK,clickTile:this.clickTile}),e("mvjp-color-chooser-field",{color:u.BLACK,isActive:this.colors[this.choosenColour]===u.BLACK,clickTile:this.clickTile})))};return i}());o.injectProps(x,["choosenColour","updateColor"]);x.style=d;var h=":host{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:160px;margin-left:50px;margin-top:17px}.box{border:1px solid black;border-radius:5px;background-color:grey;padding:5px  5px 1px 5px;margin-left:11px}.cp-icon{width:20px;height:20px}.box:last-of-type{margin:0 26px 0 0}";var f;(function(i){i[i["COPY"]=0]="COPY";i[i["PASTE"]=1]="PASTE"})(f||(f={}));var m=i("mvjp_cp_panel",function(){function i(i){var e=this;t(this,i);this.copyOrPaste=function(i){if(i===f.COPY){e.setCopyIndex()}if(i===f.PASTE){e.pasteMatrix()}}}i.prototype.render=function(){var i=this;return e(n,null,e("div",{class:"box icon-alignment"},e("img",{class:"cp-icon",onClick:function(){return i.copyOrPaste(f.COPY)},src:"./assets/icon/freepik_document.png",alt:"arrow turn around icon",title:"Copy Matrix"})),e("div",{class:"box icon-alignment"},e("img",{class:"cp-icon",onClick:function(){return i.copyOrPaste(f.PASTE)},src:"./assets/icon/freepik_clipboard.png",alt:"arrow trash icon",title:"Paste"})))};return i}());o.injectProps(m,["setCopyIndex","pasteMatrix"]);m.style=h;var g=":host{display:block}.export-button{background-color:#4CAF50;border:none;color:white;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px}";var v=i("mvjp_export_button",function(){function i(i){var e=this;t(this,i);this.openMenu=function(){e.setIsModalOpen(true)}}i.prototype.render=function(){return e(n,null,e("button",{class:"export-button",onClick:this.openMenu},"Export"))};return i}());o.injectProps(v,["setIsModalOpen"]);v.style=g;var b=":host{display:block}";var y;(function(i){i[i["SELECTOR"]=0]="SELECTOR";i[i["CODE_OUTPUT"]=1]="CODE_OUTPUT"})(y||(y={}));var k=i("mvjp_export_modal_content",function(){function i(i){var e=this;t(this,i);this.activeIndex=y.SELECTOR;this.selectedFields=[];this.setIndex=function(i){e.activeIndex=i};this.handleTileClick=function(i){if(e.selectedFields[i]===i){e.selectedFields[i]=undefined}else{e.selectedFields[i]=i}e.selectedFields=__spreadArrays(e.selectedFields)}}i.prototype.render=function(){var i=this;var t=this.selectedFields.filter((function(i){return i!==undefined})).map((function(t){return i.matrix[t]}));if(this.activeIndex===y.SELECTOR){return e("mvjp-export-field-selector",{navigateTo:function(){return i.setIndex(y.CODE_OUTPUT)},handleTileClick:this.handleTileClick,selectedFields:this.selectedFields,matrix:this.matrix})}else if(this.activeIndex===y.CODE_OUTPUT){return e("mvjp-export-code-output",{navigateTo:function(){return i.setIndex(y.SELECTOR)},fields:t})}};return i}());o.injectProps(k,["matrix"]);k.style=b;var T=":host{display:block}.modal{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%}.close{color:#aaa;font-size:28px;font-weight:bold;text-align:right}.close button{all:unset}.close:hover,.close:focus{color:black;text-decoration:none;cursor:pointer}";var M=i("mvjp_modal",function(){function i(i){var e=this;t(this,i);this.closeModal=function(){e.setIsModalOpen(false)}}i.prototype.render=function(){if(!this.isModalOpen)return null;return e(n,null,e("div",{id:"myModal",class:"modal"},e("div",{class:"modal-content"},e("div",{class:"close"},e("button",{onClick:this.closeModal}," Ã— ")),e("slot",null))))};return i}());o.injectProps(M,["setIsModalOpen","isModalOpen"]);M.style=T;var w=".paint-checkbox{display:-ms-flexbox;display:flex;margin-left:20px}.paint-checkbox label{margin-bottom:10px;margin-right:10px}.paint-checkbox [type=radio]{position:absolute;opacity:0;width:0;height:0}.paint-checkbox [type=radio]+img{cursor:pointer}.paint-checkbox [type=radio]:checked+img{outline:2px solid #33ccff}.paint-checkbox .icon{width:40px;height:40px}";var C=i("mvjp_paint_modus_switcher",function(){function i(i){var e=this;t(this,i);this.paintModus=r.BRUSH;this.changeModus=function(i){e.paintModus=i;e.setPaintModus(i)}}i.prototype.render=function(){var i=this;return e("div",{class:"paint-checkbox"},e("label",null,e("input",{type:"radio",name:"brush",value:r.BRUSH,checked:this.paintModus===r.BRUSH,onClick:function(){return i.changeModus(r.BRUSH)}}),e("img",{class:"icon",src:"./assets/icon/freepik_paintbrush.png",alt:"brush icon"})),e("label",null,e("input",{type:"radio",name:"bucket",value:r.BUCKET,checked:this.paintModus===r.BUCKET,onClick:function(){return i.changeModus(r.BUCKET)}}),e("img",{class:"icon",src:"./assets/icon/freepik_paint_bucket.png",alt:"bucket icon"})))};return i}());o.injectProps(C,["setPaintModus"]);C.style=w;var _=function(i){var t=i[0];i.splice(0,1);i.push(t);return i};var E=function(i){var t=i[i.length-1];i.pop();i.unshift(t);return i};var A=function(i){i.forEach((function(i){i=_(i)}));return i};var O=function(i){i.forEach((function(i){i=E(i)}));return i};var F=function(i){return i[0].map((function(t,e){return i.map((function(i){return i[e]}))}))};var I=function(i){return F(i).reverse()};var j=function(i){var t=[];for(var e=0;e<i.length/2;e++){t=i[i.length-e-1];i[i.length-e-1]=i[e];i[e]=t}return i};var R=function(i){for(var t=0;t<i.length;t++){for(var e=0;e<i[0].length/2;e++){var n=i[t][i[0].length-e-1];i[t][i[0].length-e-1]=i[t][e];i[t][e]=n}}return i};var P=function(i,t){return Array.from({length:i},(function(){return Array.from({length:t},(function(){return 0}))}))};var L=":host{display:block;width:146px;height:156px;margin-left:50px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.line{display:-ms-flexbox;display:flex}.icon-alignment{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.icon-alignment img{border-radius:10px;background:#4CAF50;padding:4px;border:1px solid black}.icon-alignment img.arrow{background:white}.icon-alignment img:hover{background-color:#63e668}.icon-alignment img.arrow:hover{background-color:#c0c0c0}.box{width:55px;height:60px}.v-pad{width:36px;height:60px}.center{width:36px;height:36px}.h-pad{width:55px;height:36px}.paint-setting-icon{width:25px;height:25px}.arrow{width:32px;height:32px}.up{margin-top:20px;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.down{margin-bottom:20px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.left{margin-left:20px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.right{margin-right:20px}";var U;(function(i){i[i["UP"]=0]="UP";i[i["DOWN"]=1]="DOWN";i[i["LEFT"]=2]="LEFT";i[i["RIGHT"]=3]="RIGHT"})(U||(U={}));var H;(function(i){i[i["VERTICALLY"]=0]="VERTICALLY";i[i["HORIZONTALLY"]=1]="HORIZONTALLY"})(H||(H={}));var S=i("mvjp_position_setting",function(){function i(i){var e=this;t(this,i);this.moveField=function(i){switch(i){case U.UP:_(e.matrix[e.indexTileMatrix]);break;case U.DOWN:E(e.matrix[e.indexTileMatrix]);break;case U.LEFT:A(e.matrix[e.indexTileMatrix]);break;case U.RIGHT:O(e.matrix[e.indexTileMatrix]);break}e.matrix=__spreadArrays(e.matrix);e.setMatrix(e.matrix)};this.rotateField=function(){e.matrix[e.indexTileMatrix]=I(e.matrix[e.indexTileMatrix]);e.matrix=__spreadArrays(e.matrix);e.setMatrix(e.matrix)};this.clearField=function(){e.matrix[e.indexTileMatrix]=P(e.settings.fieldWidth,e.settings.fieldHeight);e.matrix=__spreadArrays(e.matrix);e.setMatrix(e.matrix)};this.flipField=function(i){switch(i){case H.VERTICALLY:R(e.matrix[e.indexTileMatrix]);break;case H.HORIZONTALLY:j(e.matrix[e.indexTileMatrix]);break}e.matrix=__spreadArrays(e.matrix);e.setMatrix(e.matrix)}}i.prototype.render=function(){var i=this;return e(n,null,e("div",{class:"line"},e("div",{class:"box icon-alignment"},e("img",{class:"paint-setting-icon",onClick:function(){return i.flipField(H.HORIZONTALLY)},src:"./assets/icon/freepik_h_flip.png",alt:"horizontal flip icon",title:"Flip Matrix horizontally"})),e("div",{class:"v-pad icon-alignment"},e("img",{class:"arrow up",onClick:function(){return i.moveField(U.UP)},src:"./assets/icon/freepik_play.png",alt:"arrow up icon",title:"Move whole Matrix up"})),e("div",{class:"box icon-alignment"},e("img",{class:"paint-setting-icon",onClick:function(){return i.flipField(H.VERTICALLY)},src:"./assets/icon/freepik_v_flip.png",alt:"flip vertically icon",title:"Flip Matrix vertically"}))),e("div",{class:"line"},e("div",{class:"h-pad icon-alignment"},e("img",{class:"arrow left",onClick:function(){return i.moveField(U.LEFT)},src:"./assets/icon/freepik_play.png",alt:"arrow left icon",title:"Move whole Matrix left"})),e("div",{class:"center"}),e("div",{class:"h-pad icon-alignment"},e("img",{class:"arrow right",onClick:function(){return i.moveField(U.RIGHT)},src:"./assets/icon/freepik_play.png",alt:"arrow right icon",title:"Move whole Matrix right"}))),e("div",{class:"line"},e("div",{class:"box icon-alignment"},e("img",{class:"paint-setting-icon",onClick:function(){return i.rotateField()},src:"./assets/icon/freepik_reload.png",alt:"arrow turn around icon",title:"Turn matrix counter clockwise"})),e("div",{class:"v-pad icon-alignment"},e("img",{class:"arrow down",onClick:function(){return i.moveField(U.DOWN)},src:"./assets/icon/freepik_play.png",alt:"arrow down icon",title:"Move whole Matrix down"})),e("div",{class:"box icon-alignment"},e("img",{class:"paint-setting-icon",onClick:function(){return i.clearField()},src:"./assets/icon/freepik_trash.png",alt:"arrow trash icon",title:"Empty Matrix"}))))};return i}());o.injectProps(S,["matrix","setMatrix","indexTileMatrix","settings"]);S.style=L;var V=":host{display:-ms-flexbox;display:flex;width:160px;-ms-flex-wrap:wrap;flex-wrap:wrap;border:1px solid;margin-top:25px;margin-left:50px;padding-top:8px}";var Y=i("mvjp_preview_wall",function(){function i(i){t(this,i)}i.prototype.render=function(){var i=[];var t=4;for(var r=0;r<t;r++){for(var o=0;o<t;o++){i.push(e("mvjp-preview",{size:"s",standalone:true}))}}return e(n,null,i)};return i}());Y.style=V;var G=':host{display:block;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.settingsIcon{width:30px;height:30px;margin-left:auto}.formLine{margin-bottom:15px}.settingsForm{border:1px solid #c0c0c0;padding:0 20px 0 20px;margin-bottom:25px;display:none;text-align:center;width:450px;margin:0 auto;margin-bottom:45px}.settingsForm input[type="number"]{width:50px;text-align:center;margin-left:10px}.settingsForm span{margin:0 30px 0 30px}.settingsForm.visible{display:block}';var N=i("mvjp_settings_ui",function(){function i(i){var e=this;t(this,i);this.isContentVisible=false;this.toggleVisibility=function(){e.isContentVisible=!e.isContentVisible}}i.prototype.handleChange=function(i){switch(i.target.name){case"width":this.settings.fieldWidth=parseInt(i.target.value,10);break;case"height":this.settings.fieldHeight=parseInt(i.target.value,10);break;case"spriteAmount":this.settings.spriteAmount=parseInt(i.target.value,10);break;case"grid":this.settings.isGridVisible=i.target.checked;break;case"numbers":this.settings.isFieldNumberVisible=i.target.checked;break}this.setSettings(this.settings)};i.prototype.render=function(){var i=this;var t=this.isContentVisible?"visible":"";return e(n,null,e("img",{class:"settingsIcon",onClick:function(){return i.toggleVisibility()},src:"./assets/icon/freepik_repair.png",alt:"settings icon"}),e("div",{class:"settingsForm "+t},e("h2",null,"Settings"),e("div",{class:"formLine"},e("label",null,"Width:",e("input",{name:"width",type:"number",min:"1",max:"99",value:this.settings.fieldWidth,onInput:function(t){return i.handleChange(t)}})),e("span",null," x "),e("label",null,"Height:",e("input",{name:"height",type:"number",min:"1",max:"99",onInput:function(t){return i.handleChange(t)},value:this.settings.fieldHeight}))),e("div",{class:"formLine"},e("label",null,"Number of Tiles:",e("input",{name:"spriteAmount",type:"number",min:"1",max:"99",onInput:function(t){return i.handleChange(t)},value:this.settings.spriteAmount}))),e("div",{class:"formLine"},e("label",null,"Grid:",e("input",{name:"grid",type:"checkbox",value:"isGridVisible",onInput:function(t){return i.handleChange(t)},checked:this.settings.isGridVisible})),e("label",null,"Numbers:",e("input",{name:"numbers",type:"checkbox",value:"isFieldNumberVisible",onInput:function(t){return i.handleChange(t)},checked:this.settings.isFieldNumberVisible})))))};return i}());o.injectProps(N,["settings","setSettings"]);N.style=G;var D=":host{display:-ms-flexbox;display:flex;margin-left:-100px}";var B=i("mvjp_sprite_number_switcher",function(){function i(i){var e=this;t(this,i);this.onClick=function(i){e.changeTileMatrix(i)}}i.prototype.render=function(){var i=this;var t=this.settings.spriteAmount;var r=new Array(t).fill(0,0,t).map((function(t,n){return e("mvjp-sprite-number-switcher-tile",{index:n,isActive:i.indexTileMatrix===n,clickTile:i.onClick,key:"index_"+n})}));return e(n,null,r)};return i}());o.injectProps(B,["settings","changeTileMatrix","indexTileMatrix"]);B.style=D}}}));